---
import MobileNav from "@/components/docs/MobileNav.astro";
import Brand from '@/components/Brand.astro';
import { getUrlRelativeToBase } from "@/lib/utils";
import { mainNavigation } from "@/data/navigation";
import { isActivePage } from '@/lib/utils';

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 w-full bg-background/95 backdrop-blur-sm border-b supports-[backdrop-filter]:bg-background/60">
  <div class="flex h-16 items-center gap-8 p-8">
    <!-- Left Section: Logo + Navigation -->
    <div class="flex items-center gap-8 whitespace-nowrap">
      <MobileNav />
      
      <Brand />

      <!-- Desktop Navigation -->
      <nav class="hidden items-center gap-6 whitespace-nowrap lg:flex">
        {mainNavigation[0].items.map((item) => (
          <a
            href={getUrlRelativeToBase(item.href)}
            class={`relative py-2 text-sm font-medium text-muted-foreground transition-colors hover:text-foreground whitespace-nowrap ${
              isActivePage(item.href, currentPath) 
                ? 'text-foreground after:absolute after:top-12 after:left-0 after:right-0 after:h-0.5 after:bg-primary after:rounded-sm' 
                : ''
            }`}
          >
            {item.title}
          </a>
        ))}
      </nav>
    </div>

    <!-- Right Section: Actions (if needed in future) -->
    <div class="ml-auto flex items-center gap-4 whitespace-nowrap">
      <!-- <ThemeToggle /> -->
    </div>
  </div>
</header>


