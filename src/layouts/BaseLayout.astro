---
import HeadSEO from "@/components/HeadSEO.astro";
import Footer from "@/components/block/Footer.astro"
import FooterBlockOS from "@/components/blockopensource/FooterBlockOS.astro";
import Header from "@/components/Header.astro";
import "@/styles/global.css";
import { getUrlRelativeToBase } from "@/lib/utils";

interface Props {
  title?: string | undefined;
  description?: string | undefined;
  ogImage?: URL | undefined;
}

const { title, description, ogImage } = Astro.props;
---

<html lang="en">
  <head>
    <HeadSEO title={title} description={description} ogImage={ogImage} />
    <style set:html={`
      /* Cash Sans Font Family - Complete Weight Range */
      
      /* Light - 300 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Light.woff2')}') format('woff2');
        font-weight: 300;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-LightItl.woff2')}') format('woff2');
        font-weight: 300;
        font-style: italic;
        font-display: swap;
      }

      /* Regular - 400 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Regular.woff2')}') format('woff2');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-RegularItl.woff2')}') format('woff2');
        font-weight: 400;
        font-style: italic;
        font-display: swap;
      }

      /* Medium - 500 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Medium.woff2')}') format('woff2');
        font-weight: 500;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-MediumItl.woff2')}') format('woff2');
        font-weight: 500;
        font-style: italic;
        font-display: swap;
      }

      /* Semibold - 600 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Semibold.woff2')}') format('woff2');
        font-weight: 600;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-SemiboldItl.woff2')}') format('woff2');
        font-weight: 600;
        font-style: italic;
        font-display: swap;
      }

      /* Bold - 700 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Bold.woff2')}') format('woff2');
        font-weight: 700;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-BoldItl.woff2')}') format('woff2');
        font-weight: 700;
        font-style: italic;
        font-display: swap;
      }

      /* Extra Black - 800 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Extblack.woff2')}') format('woff2');
        font-weight: 800;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-ExtblackItl.woff2')}') format('woff2');
        font-weight: 800;
        font-style: italic;
        font-display: swap;
      }

      /* Black - 900 */
      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-Black.woff2')}') format('woff2');
        font-weight: 900;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans';
        src: url('${getUrlRelativeToBase('/fonts/CashSans-BlackItl.woff2')}') format('woff2');
        font-weight: 900;
        font-style: italic;
        font-display: swap;
      }

      /* Cash Sans Mono for code blocks */
      @font-face {
        font-family: 'Cash Sans Mono';
        src: url('${getUrlRelativeToBase('/fonts/CashSansMono-Light.woff2')}') format('woff2');
        font-weight: 300;
        font-style: normal;
        font-display: swap;
      }

      @font-face {
        font-family: 'Cash Sans Mono';
        src: url('${getUrlRelativeToBase('/fonts/CashSansMono-Medium.woff2')}') format('woff2');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
    `}></style>
  </head>
  <body class="min-h-screen bg-background font-sans antialiased">
    <script is:inline>
      // Force light mode - remove dark class and ignore user preferences
      document.documentElement.classList.remove('dark');
      
      // Override any existing theme preference
      if (typeof localStorage !== 'undefined') {
        localStorage.setItem('theme', 'light');
      }
      
      // Prevent dark mode from being applied
      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
            if (document.documentElement.classList.contains('dark')) {
              document.documentElement.classList.remove('dark');
            }
          }
        });
      });
      
      observer.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class']
      });
    </script>
    <div class="relative flex min-h-screen flex-col">
      <Header />
      <div class="flex-1">
        <slot />
      </div>
      <FooterBlockOS />
    </div>
  </body>
</html>